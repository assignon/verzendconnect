{% extends 'dashboard/base.html' %}
{% load static widget_tweaks i18n %}

{% block title %}{% trans "Company Information" %} - {{ block.super }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-6">
    <!-- Header -->
    <div>
        <h1 class="text-2xl font-bold text-gray-900">{% trans "Company Information" %}</h1>
        <p class="text-gray-600 mt-2">{% trans "Update your company contact information. These details will be displayed in the website footer." %}</p>
    </div>

    <!-- Form -->
    <div class="bg-white rounded-lg shadow">
        <form method="post" class="p-6 space-y-6">
            {% csrf_token %}

            <!-- Email -->
            <div>
                <label for="{{ form.email.id_for_label }}" class="label">
                    {% trans "Email Address" %}
                </label>
                {{ form.email|add_class:"input" }}
                {% if form.email.errors %}
                    <p class="mt-2 text-sm text-red-600">{{ form.email.errors.0 }}</p>
                {% endif %}
                {% if form.email.help_text %}
                    <p class="mt-2 text-sm text-gray-500">{{ form.email.help_text }}</p>
                {% endif %}
            </div>

            <!-- Phone -->
            <div>
                <label for="{{ form.phone.id_for_label }}" class="label">
                    {% trans "Phone Number" %}
                </label>
                {{ form.phone|add_class:"input" }}
                {% if form.phone.errors %}
                    <p class="mt-2 text-sm text-red-600">{{ form.phone.errors.0 }}</p>
                {% endif %}
                {% if form.phone.help_text %}
                    <p class="mt-2 text-sm text-gray-500">{{ form.phone.help_text }}</p>
                {% endif %}
            </div>

            <!-- Address -->
            <div>
                <label for="{{ form.address.id_for_label }}" class="label">
                    {% trans "Address" %}
                </label>
                {{ form.address|add_class:"input" }}
                {% if form.address.errors %}
                    <p class="mt-2 text-sm text-red-600">{{ form.address.errors.0 }}</p>
                {% endif %}
                {% if form.address.help_text %}
                    <p class="mt-2 text-sm text-gray-500">{{ form.address.help_text }}</p>
                {% endif %}
            </div>

            <!-- Actions -->
            <div class="flex justify-end gap-4 pt-6 border-t border-gray-200">
                <button type="submit" class="px-6 py-3.5 border-2 border-primary-600 bg-primary-600 text-white rounded-xl hover:bg-primary-700 hover:border-primary-700 hover:shadow-lg transition-all duration-200 font-semibold shadow-md">
                    {% trans "Update Information" %}
                </button>
            </div>
        </form>
    </div>

    <!-- Preview Section -->
    <div class="bg-gray-50 rounded-lg shadow p-6">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">{% trans "Footer Preview" %}</h2>
        <div class="bg-white rounded-lg p-6 border border-gray-200">
            <div class="space-y-3">
                {% if form.email.value %}
                <div class="flex items-center gap-2 text-gray-700">
                    <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    <a href="mailto:{{ form.email.value }}" class="hover:text-primary-600">{{ form.email.value }}</a>
                </div>
                {% endif %}
                {% if form.phone.value %}
                <div class="flex items-center gap-2 text-gray-700">
                    <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                    <a href="tel:{{ form.phone.value }}" class="hover:text-primary-600">{{ form.phone.value }}</a>
                </div>
                {% endif %}
                {% if form.address.value %}
                <div class="flex items-start gap-2 text-gray-700">
                    <svg class="w-5 h-5 mt-0.5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    <span class="whitespace-pre-line">{{ form.address.value }}</span>
                </div>
                {% endif %}
                {% if not form.email.value and not form.phone.value and not form.address.value %}
                <p class="text-gray-500 italic">{% trans "No information entered yet. Fill in the form above to see a preview." %}</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

